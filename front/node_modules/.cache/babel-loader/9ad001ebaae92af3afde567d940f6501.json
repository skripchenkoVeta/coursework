{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\2\\\\online-store-master\\\\front\\\\src\\\\pages\\\\Orders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Col, Container, Dropdown, ListGroup, Pagination, Row, Spinner } from \"react-bootstrap\";\nimport { fetchOrders } from \"../http/ordersAPI\";\nimport ItemOneOrderInAdmin from \"../components/itemOneorderInAdmin\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Orders = () => {\n  _s();\n\n  var _orders$rows;\n\n  const [loading, setLoading] = useState(false);\n  const [orders, setOrders] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [count, setCount] = useState(0);\n  const [filter, setFilter] = useState(\"All\");\n  const [rerender, setRerender] = useState(false); //pagination\n\n  const limit = 5;\n  const pageCount = Math.ceil(Number(count) / limit);\n  const pages = [];\n  useEffect(() => {\n    fetchOrders({\n      limit,\n      page: 1\n    }).then(data => {\n      setOrders(data);\n      setLoading(false);\n      setCount(data.count);\n    });\n  }, []);\n  useEffect(() => {\n    setLoading(true);\n    fetchOrders({\n      limit,\n      page: currentPage\n    }).then(data => {\n      setOrders(data);\n      setLoading(false);\n    });\n  }, [currentPage]);\n  useEffect(() => {\n    setLoading(true);\n    fetchOrders({\n      limit,\n      page: 1,\n      complete: filter\n    }).then(data => {\n      setOrders(data);\n      setLoading(false);\n      setCount(data.count);\n      setCurrentPage(1);\n    });\n  }, [filter]); //re-render after change status, or delete some order\n\n  useEffect(() => {\n    setLoading(true);\n    fetchOrders({\n      limit,\n      page: currentPage,\n      complete: filter\n    }).then(data => {\n      setOrders(data);\n      setLoading(false);\n      setCount(data.count);\n      setCurrentPage(1);\n    });\n  }, [rerender]);\n\n  const reRender = () => {\n    setRerender(!rerender);\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"grow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 16\n    }, this);\n  }\n\n  for (let number = 1; number < pageCount + 1; number++) {\n    pages.push( /*#__PURE__*/_jsxDEV(Pagination.Item, {\n      active: number === currentPage,\n      onClick: () => setCurrentPage(number),\n      children: number\n    }, number, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this));\n  }\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: 12,\n        className: \"mt-3 d-flex justify-content-center align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mr-3\",\n          children: \"Filter:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown, {\n          children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n            variant: \"success\",\n            id: \"dropdown-basic\",\n            children: filter\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n            children: [filter === \"all\" ? /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              disabled: true,\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 49\n            }, this) : /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              onClick: () => setFilter(\"all\"),\n              children: \"All\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 95\n            }, this), filter === \"completed\" ? /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              disabled: true,\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 55\n            }, this) : /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              onClick: () => setFilter(\"completed\"),\n              children: \"Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 107\n            }, this), filter === \"not-completed\" ? /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              disabled: true,\n              children: \"Not Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 59\n            }, this) : /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n              onClick: () => setFilter(\"not-completed\"),\n              children: \"Not Completed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 115\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n      children: (_orders$rows = orders.rows) === null || _orders$rows === void 0 ? void 0 : _orders$rows.map(({\n        id,\n        complete,\n        mobile,\n        createdAt,\n        updatedAt,\n        userId\n      }) => /*#__PURE__*/_jsxDEV(ItemOneOrderInAdmin, {\n        id: id,\n        complete: complete,\n        mobile: mobile,\n        createdAt: createdAt,\n        updatedAt: updatedAt,\n        userId: userId,\n        reRender: reRender\n      }, id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      size: \"sm\",\n      className: \"mt-4 mb-4\",\n      style: {\n        margin: \"0 auto\"\n      },\n      children: pages\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Orders, \"rbwyGOcckDPElEW0+8Ats52lxo0=\");\n\n_c = Orders;\nexport default Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/2/online-store-master/front/src/pages/Orders.js"],"names":["React","useEffect","useState","Col","Container","Dropdown","ListGroup","Pagination","Row","Spinner","fetchOrders","ItemOneOrderInAdmin","Orders","loading","setLoading","orders","setOrders","currentPage","setCurrentPage","count","setCount","filter","setFilter","rerender","setRerender","limit","pageCount","Math","ceil","Number","pages","page","then","data","complete","reRender","number","push","rows","map","id","mobile","createdAt","updatedAt","userId","margin"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Col, Container, Dropdown, ListGroup, Pagination, Row, Spinner} from \"react-bootstrap\";\nimport {fetchOrders} from \"../http/ordersAPI\";\nimport ItemOneOrderInAdmin from \"../components/itemOneorderInAdmin\";\n\nconst Orders = () => {\n    const [loading, setLoading] = useState(false);\n    const [orders, setOrders] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [count, setCount] = useState(0);\n    const [filter, setFilter] = useState(\"All\");\n    const [rerender, setRerender] = useState(false);\n\n    //pagination\n    const limit = 5;\n    const pageCount = Math.ceil(Number(count) / limit);\n    const pages = [];\n\n    useEffect(() => {\n        fetchOrders({limit, page: 1}).then(data => {\n            setOrders(data);\n            setLoading(false);\n            setCount(data.count);\n        })\n    }, []);\n\n    useEffect(() => {\n        setLoading(true);\n        fetchOrders({limit, page: currentPage}).then(data => {\n            setOrders(data);\n            setLoading(false);\n        })\n    }, [currentPage]);\n\n    useEffect(() => {\n        setLoading(true);\n        fetchOrders({limit, page: 1, complete: filter}).then(data => {\n            setOrders(data);\n            setLoading(false);\n            setCount(data.count);\n            setCurrentPage(1);\n        })\n    }, [filter]);\n\n    //re-render after change status, or delete some order\n    useEffect(() => {\n        setLoading(true);\n        fetchOrders({limit, page: currentPage, complete: filter}).then(data => {\n            setOrders(data);\n            setLoading(false);\n            setCount(data.count);\n            setCurrentPage(1);\n        })\n    }, [rerender]);\n\n    const reRender = () => {\n        setRerender(!rerender);\n    }\n\n    if(loading) {\n        return <Spinner animation=\"grow\"/>\n    }\n\n    for (let number = 1; number < pageCount + 1; number++) {\n        pages.push(\n            <Pagination.Item key={number} active={number === currentPage} onClick={() => setCurrentPage(number)}>\n                {number}\n            </Pagination.Item>\n        );\n    }\n\n    return (\n        <Container className=\"d-flex flex-column\">\n            <Row>\n                <Col xs={12} className=\"mt-3 d-flex justify-content-center align-items-center\">\n                    <div className=\"mr-3\">Filter:</div>\n                    <Dropdown>\n                        <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                            {filter}\n                        </Dropdown.Toggle>\n\n                        <Dropdown.Menu>\n                            {filter === \"all\" ? <Dropdown.Item disabled>All</Dropdown.Item> : <Dropdown.Item onClick={() => setFilter(\"all\")}>All</Dropdown.Item>}\n                            {filter === \"completed\" ? <Dropdown.Item disabled>Completed</Dropdown.Item> : <Dropdown.Item onClick={() => setFilter(\"completed\")}>Completed</Dropdown.Item>}\n                            {filter === \"not-completed\" ? <Dropdown.Item disabled>Not Completed</Dropdown.Item> : <Dropdown.Item onClick={() => setFilter(\"not-completed\")}>Not Completed</Dropdown.Item>}\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Col>\n            </Row>\n            <ListGroup>\n                {orders.rows?.map( ({id, complete, mobile, createdAt, updatedAt, userId}) =>\n                    <ItemOneOrderInAdmin\n                        key={id}\n                        id={id}\n                        complete={complete}\n                        mobile={mobile}\n                        createdAt={createdAt}\n                        updatedAt={updatedAt}\n                        userId={userId}\n                        reRender={reRender}/>)}\n            </ListGroup>\n            <Pagination size=\"sm\" className=\"mt-4 mb-4\" style={{margin: \"0 auto\"}}>\n                {pages}\n            </Pagination>\n        </Container>\n    );\n};\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}