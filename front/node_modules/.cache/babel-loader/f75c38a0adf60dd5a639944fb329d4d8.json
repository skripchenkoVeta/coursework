{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\2\\\\online-store-master\\\\front\\\\src\\\\pages\\\\OneOrder.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Col, Container, Image, Row, Spinner } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\nimport { getOneOrderDevices } from \"../http/ordersAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst OneOrder = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [loading, setLoading] = useState(true);\n  const [order, setOrder] = useState([]);\n  useEffect(() => {\n    getOneOrderDevices(id).then(data => {\n      setOrder(data);\n      setLoading(false);\n      console.log(order);\n    });\n  }, []);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {\n      animation: \"grow\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 16\n    }, this);\n  } //Format date (createdAt)\n\n\n  const formatDate = propsDate => {\n    const date = new Date(Date.parse(propsDate));\n    const options = {\n      weekday: \"short\",\n      hour: 'numeric',\n      minute: 'numeric',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      timezone: 'UTC'\n    };\n    return date.toLocaleString(\"en-US\", options);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"d-flex flex-column\",\n    children: [\"Order id: \", id, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 28\n    }, this), \"Complete: \", (order === null || order === void 0 ? void 0 : order.descr.complete) ? \"Completed\" : \"Not complete\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 78\n    }, this), \"User: \", (order === null || order === void 0 ? void 0 : order.descr.userId) ? order.descr.userId : \"User didn't register\", \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 88\n    }, this), \"Created: \", formatDate(order === null || order === void 0 ? void 0 : order.descr.createdAt), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 59\n    }, this), (order === null || order === void 0 ? void 0 : order.descr.complete) ? formatDate(order.descr.complete.updatedAt) : false, /*#__PURE__*/_jsxDEV(\"a\", {\n      href: `tel:${order === null || order === void 0 ? void 0 : order.descr.mobile}`,\n      children: [\"Mobile: \", order === null || order === void 0 ? void 0 : order.descr.mobile]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), order === null || order === void 0 ? void 0 : order.devices.map(({\n      count,\n      descr\n    }, i) => {\n      return /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mb-5\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          xs: 2,\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            width: 150,\n            src: process.env.REACT_APP_API_URL + descr.img\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          xs: 10,\n          children: [\"Brand: \", descr.brand.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 54\n          }, this), \"Type: \", descr.type.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 52\n          }, this), \"Name: \", descr.name, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 47\n          }, this), \"Price: \", descr.price, \" RUB\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 53\n          }, this), \"Count: \", count, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 43\n          }, this), \"Total price: \", count * descr.price, \" RUB\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\n_s(OneOrder, \"oZj7f1FpEO3iUbapR4e1Xp7Wa24=\", false, function () {\n  return [useParams];\n});\n\n_c = OneOrder;\nexport default OneOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"OneOrder\");","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/2/online-store-master/front/src/pages/OneOrder.js"],"names":["React","useEffect","useState","Col","Container","Image","Row","Spinner","useParams","getOneOrderDevices","OneOrder","id","loading","setLoading","order","setOrder","then","data","console","log","formatDate","propsDate","date","Date","parse","options","weekday","hour","minute","year","month","day","timezone","toLocaleString","descr","complete","userId","createdAt","updatedAt","mobile","devices","map","count","i","process","env","REACT_APP_API_URL","img","brand","name","type","price"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Col, Container, Image, Row, Spinner} from \"react-bootstrap\";\nimport {useParams} from \"react-router-dom\";\nimport {getOneOrderDevices} from \"../http/ordersAPI\";\n\nconst OneOrder = () => {\n    const {id} = useParams();\n    const [loading, setLoading] = useState(true);\n    const [order, setOrder] = useState([]);\n\n    useEffect(() => {\n        getOneOrderDevices(id).then(data => {\n            setOrder(data);\n            setLoading(false);\n            console.log(order);\n        })\n    }, []);\n\n    if(loading) {\n        return <Spinner animation=\"grow\"/>\n    }\n\n    //Format date (createdAt)\n    const formatDate = (propsDate) => {\n        const date = new Date(Date.parse(propsDate));\n        const options = {\n            weekday: \"short\",\n            hour: 'numeric',\n            minute: 'numeric',\n            year: 'numeric',\n            month: 'numeric',\n            day: 'numeric',\n            timezone: 'UTC'\n        };\n        return date.toLocaleString(\"en-US\", options);\n    }\n\n    return (\n        <Container className=\"d-flex flex-column\">\n            Order id: {id} <br />\n            Complete: {order?.descr.complete ? \"Completed\" : \"Not complete\"} <br />\n            User: {order?.descr.userId ?  order.descr.userId : \"User didn't register\"} <br />\n            Created: {formatDate(order?.descr.createdAt)} <br />\n            {order?.descr.complete ? formatDate(order.descr.complete.updatedAt) : false }\n            <a href={`tel:${order?.descr.mobile}`}>Mobile: {order?.descr.mobile}</a>\n            <br />\n\n            {order?.devices.map( ({count,descr}, i) => {\n                return (\n                    <Row key={i} className=\"mb-5\">\n                        <Col xs={2}>\n                            <Image width={150} src={process.env.REACT_APP_API_URL + descr.img}/>\n                        </Col>\n                        <Col xs={10}>\n                            Brand: {descr.brand.name}<br />\n                            Type: {descr.type.name}<br />\n                            Name: {descr.name}<br />\n                            Price: {descr.price} RUB<br />\n                            Count: {count}<br />\n                            Total price: {count * descr.price} RUB\n                        </Col>\n                    </Row>\n                )\n            })}\n\n        </Container>\n    );\n};\n\nexport default OneOrder;\n"]},"metadata":{},"sourceType":"module"}